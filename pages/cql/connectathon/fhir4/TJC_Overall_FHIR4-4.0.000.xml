<?xml version="1.0" encoding="UTF-8"?>
<library xmlns="urn:hl7-org:elm:r1" xmlns:t="urn:hl7-org:elm-types:r1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:fhir="http://hl7.org/fhir" xmlns:qdm43="urn:healthit-gov:qdm:v4_3" xmlns:qdm53="urn:healthit-gov:qdm:v5_3" xmlns:a="urn:hl7-org:cql-annotations:r1">
   <identifier id="TJC_Overall_FHIR4" version="4.0.000"/>
   <schemaIdentifier id="urn:hl7-org:elm" version="r1"/>
   <usings>
      <def localIdentifier="System" uri="urn:hl7-org:elm-types:r1"/>
      <def localId="1" locator="5:1-5:26" localIdentifier="FHIR" uri="http://hl7.org/fhir" version="4.0.0"/>
   </usings>
   <includes>
      <def localId="2" locator="7:1-7:54" localIdentifier="FHIRHelpers" path="FHIRHelpers" version="4.0.0"/>
      <def localId="3" locator="8:1-8:70" localIdentifier="Global" path="MATGlobalCommonFunctions_FHIR4" version="4.0.000"/>
      <def localId="4" locator="9:1-9:65" localIdentifier="SDE" path="SupplementalDataElements_FHIR4" version="1.0.0"/>
   </includes>
   <parameters>
      <def localId="24" locator="30:1-30:49" name="Measurement Period" accessLevel="Public">
         <parameterTypeSpecifier localId="23" locator="30:32-30:49" xsi:type="IntervalTypeSpecifier">
            <pointType localId="22" locator="30:41-30:48" name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
         </parameterTypeSpecifier>
      </def>
   </parameters>
   <codeSystems>
      <def localId="5" locator="11:1-11:60" name="SNOMEDCT" id="http://snomed.info/sct/731000124108" accessLevel="Public"/>
      <def localId="6" locator="12:1-12:38" name="LOINC" id="http://loinc.org" accessLevel="Public"/>
   </codeSystems>
   <valueSets>
      <def localId="7" locator="14:1-14:95" name="Comfort Measures" id="https://cts.nlm.nih.gov/fhir/ValueSet/1.3.6.1.4.1.33895.1.3.0.45" accessLevel="Public"/>
      <def localId="8" locator="15:1-15:117" name="Discharge To Acute Care Facility" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.87" accessLevel="Public"/>
      <def localId="9" locator="16:1-16:137" name="Discharged to Health Care Facility for Hospice Care" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.207" accessLevel="Public"/>
      <def localId="10" locator="17:1-17:121" name="Discharged to Home for Hospice Care" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.209" accessLevel="Public"/>
      <def localId="11" locator="18:1-18:112" name="Emergency Department Visit" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.292" accessLevel="Public"/>
      <def localId="12" locator="19:1-19:101" name="Encounter Inpatient" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307" accessLevel="Public"/>
      <def localId="13" locator="20:1-20:104" name="Hemorrhagic Stroke" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.212" accessLevel="Public"/>
      <def localId="14" locator="21:1-21:101" name="Ischemic Stroke" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.247" accessLevel="Public"/>
      <def localId="15" locator="22:1-22:113" name="Left Against Medical Advice" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.308" accessLevel="Public"/>
      <def localId="16" locator="23:1-23:118" name="Non-Elective Inpatient Encounter" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.424" accessLevel="Public"/>
      <def localId="17" locator="24:1-24:101" name="Patient Expired" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.309" accessLevel="Public"/>
      <def localId="18" locator="25:1-25:100" name="Ticagrelor Therapy" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.39" accessLevel="Public"/>
      <def localId="19" locator="26:1-26:103" name="Observation Services" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1111.143" accessLevel="Public"/>
   </valueSets>
   <codes>
      <def localId="21" locator="28:1-28:62" name="Birth date" id="21112-8" display="Birth date" accessLevel="Public">
         <codeSystem localId="20" locator="28:35-28:41" name="LOINC"/>
      </def>
   </codes>
   <statements>
      <def locator="32:1-32:15" name="Patient" context="Patient">
         <expression xsi:type="SingletonFrom">
            <operand locator="32:1-32:15" dataType="fhir:Patient" xsi:type="Retrieve"/>
         </expression>
      </def>
      <def localId="40" locator="35:1-40:51" name="Intervention Comfort Measures" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="40">
               <a:s>define &quot;Intervention Comfort Measures&quot;:&#xd;
	</a:s>
               <a:s r="39">
                  <a:s r="31">
                     <a:s>(</a:s>
                     <a:s r="31">
                        <a:s>
                           <a:s r="26">
                              <a:s r="25">
                                 <a:s r="25">
                                    <a:s>[&quot;ServiceRequest&quot;: </a:s>
                                    <a:s>
                                       <a:s>&quot;Comfort Measures&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> P</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
		</a:s>
                        <a:s r="30">
                           <a:s>where </a:s>
                           <a:s r="30">
                              <a:s r="28">
                                 <a:s r="27">
                                    <a:s>P</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="28">
                                    <a:s>intent</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> = </a:s>
                              <a:s r="29">
                                 <a:s>'order'</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
                  <a:s>&#xd;
		union&#xd;
		</a:s>
                  <a:s r="38">
                     <a:s>(</a:s>
                     <a:s r="38">
                        <a:s>
                           <a:s r="33">
                              <a:s r="32">
                                 <a:s r="32">
                                    <a:s>[&quot;Procedure&quot;: </a:s>
                                    <a:s>
                                       <a:s>&quot;Comfort Measures&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> InterventionPerformed</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
		</a:s>
                        <a:s r="37">
                           <a:s>where </a:s>
                           <a:s r="37">
                              <a:s r="35">
                                 <a:s r="34">
                                    <a:s>InterventionPerformed</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="35">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> = </a:s>
                              <a:s r="36">
                                 <a:s>'completed'</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="39" locator="36:2-40:51" xsi:type="Union">
            <operand xsi:type="As">
               <operand localId="31" locator="36:2-37:27" xsi:type="Query">
                  <source localId="26" locator="36:3-36:42" alias="P">
                     <expression localId="25" locator="36:3-36:40" dataType="fhir:ServiceRequest" codeProperty="code" xsi:type="Retrieve">
                        <codes locator="36:22-36:39" name="Comfort Measures" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="30" locator="37:3-37:26" xsi:type="Equal">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="28" locator="37:9-37:16" path="intent" scope="P" xsi:type="Property"/>
                     </operand>
                     <operand localId="29" locator="37:20-37:26" valueType="t:String" value="order" xsi:type="Literal"/>
                  </where>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice name="fhir:ServiceRequest" xsi:type="NamedTypeSpecifier"/>
                     <choice name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </asTypeSpecifier>
            </operand>
            <operand xsi:type="As">
               <operand localId="38" locator="39:3-40:51" xsi:type="Query">
                  <source localId="33" locator="39:4-39:58" alias="InterventionPerformed">
                     <expression localId="32" locator="39:4-39:36" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                        <codes locator="39:18-39:35" name="Comfort Measures" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="37" locator="40:3-40:50" xsi:type="Equal">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="35" locator="40:9-40:36" path="status" scope="InterventionPerformed" xsi:type="Property"/>
                     </operand>
                     <operand localId="36" locator="40:40-40:50" valueType="t:String" value="completed" xsi:type="Literal"/>
                  </where>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice name="fhir:ServiceRequest" xsi:type="NamedTypeSpecifier"/>
                     <choice name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </asTypeSpecifier>
            </operand>
         </expression>
      </def>
      <def localId="55" locator="51:1-54:67" name="Non Elective Inpatient Encounter" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="55">
               <a:s>define &quot;Non Elective Inpatient Encounter&quot;:&#xd;
	</a:s>
               <a:s r="54">
                  <a:s>
                     <a:s r="42">
                        <a:s r="41">
                           <a:s r="41">
                              <a:s>[&quot;Encounter&quot;: </a:s>
                              <a:s>
                                 <a:s>&quot;Non-Elective Inpatient Encounter&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> NonElectiveEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="53">
                     <a:s>where </a:s>
                     <a:s r="53">
                        <a:s r="48">
                           <a:s r="46">
                              <a:s r="43">
                                 <a:s>Global</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="46">
                                 <a:s>&quot;LengthInDays&quot;(</a:s>
                                 <a:s r="45">
                                    <a:s r="44">
                                       <a:s>NonElectiveEncounter</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="45">
                                       <a:s>period</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="47">&lt;= 120</a:s>
                        </a:s>
                        <a:s>&#xd;
			and </a:s>
                        <a:s r="52">
                           <a:s r="50">
                              <a:s r="49">
                                 <a:s>NonElectiveEncounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="50">
                                 <a:s>period</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="52"> ends during </a:s>
                           <a:s r="51">
                              <a:s>&quot;Measurement Period&quot;</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="54" locator="52:2-54:67" xsi:type="Query">
            <source localId="42" locator="52:2-52:71" alias="NonElectiveEncounter">
               <expression localId="41" locator="52:2-52:50" dataType="fhir:Encounter" codeProperty="type" xsi:type="Retrieve">
                  <codes locator="52:16-52:49" name="Non-Elective Inpatient Encounter" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="53" locator="53:3-54:67" xsi:type="And">
               <operand localId="48" locator="53:9-53:64" xsi:type="LessOrEqual">
                  <operand localId="46" locator="53:9-53:58" name="LengthInDays" libraryName="Global" xsi:type="FunctionRef">
                     <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="45" locator="53:31-53:57" path="period" scope="NonElectiveEncounter" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand localId="47" locator="53:62-53:64" valueType="t:Integer" value="120" xsi:type="Literal"/>
               </operand>
               <operand localId="52" locator="54:8-54:67" xsi:type="In">
                  <operand locator="54:36-54:39" xsi:type="End">
                     <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="50" locator="54:8-54:34" path="period" scope="NonElectiveEncounter" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand localId="51" locator="54:48-54:67" name="Measurement Period" xsi:type="ParameterRef"/>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="72" locator="42:1-45:82" name="All Stroke Encounter" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="72">
               <a:s>define &quot;All Stroke Encounter&quot;:&#xd;
	</a:s>
               <a:s r="71">
                  <a:s>
                     <a:s r="57">
                        <a:s r="56">
                           <a:s>
                              <a:s>&quot;Non Elective Inpatient Encounter&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> NonElectiveEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
    </a:s>
                  <a:s r="70">
                     <a:s>where </a:s>
                     <a:s r="70">
                        <a:s r="63">
                           <a:s r="61">
                              <a:s r="60">
                                 <a:s r="58">
                                    <a:s>Global</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="60">
                                    <a:s>PrincipalDiagnosis(</a:s>
                                    <a:s r="59">
                                       <a:s>NonElectiveEncounter</a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="61">
                                 <a:s>code</a:s>
                              </a:s>
                           </a:s>
                           <a:s> in </a:s>
                           <a:s r="62">
                              <a:s>&quot;Hemorrhagic Stroke&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
      or </a:s>
                        <a:s r="69">
                           <a:s r="67">
                              <a:s r="66">
                                 <a:s r="64">
                                    <a:s>Global</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="66">
                                    <a:s>PrincipalDiagnosis(</a:s>
                                    <a:s r="65">
                                       <a:s>NonElectiveEncounter</a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="67">
                                 <a:s>code</a:s>
                              </a:s>
                           </a:s>
                           <a:s> in </a:s>
                           <a:s r="68">
                              <a:s>&quot;Ischemic Stroke&quot;</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="71" locator="43:2-45:82" xsi:type="Query">
            <source localId="57" locator="43:2-43:56" alias="NonElectiveEncounter">
               <expression localId="56" locator="43:2-43:35" name="Non Elective Inpatient Encounter" xsi:type="ExpressionRef"/>
            </source>
            <where localId="70" locator="44:5-45:82" xsi:type="Or">
               <operand localId="63" locator="44:11-44:86" xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="61" locator="44:11-44:62" path="code" xsi:type="Property">
                        <source localId="60" locator="44:11-44:57" name="PrincipalDiagnosis" libraryName="Global" xsi:type="FunctionRef">
                           <operand localId="59" locator="44:37-44:56" name="NonElectiveEncounter" xsi:type="AliasRef"/>
                        </source>
                     </operand>
                  </code>
                  <valueset localId="62" locator="44:67-44:86" name="Hemorrhagic Stroke"/>
               </operand>
               <operand localId="69" locator="45:10-45:82" xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="67" locator="45:10-45:61" path="code" xsi:type="Property">
                        <source localId="66" locator="45:10-45:56" name="PrincipalDiagnosis" libraryName="Global" xsi:type="FunctionRef">
                           <operand localId="65" locator="45:36-45:55" name="NonElectiveEncounter" xsi:type="AliasRef"/>
                        </source>
                     </operand>
                  </code>
                  <valueset localId="68" locator="45:66-45:82" name="Ischemic Stroke"/>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="92" locator="71:1-74:149" name="Encounter with Principal Diagnosis and Age" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="92">
               <a:s>define &quot;Encounter with Principal Diagnosis and Age&quot;:&#xd;
	</a:s>
               <a:s r="91">
                  <a:s>
                     <a:s r="74">
                        <a:s r="73">
                           <a:s>
                              <a:s>&quot;All Stroke Encounter&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> AllStrokeEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="90">
                     <a:s>with </a:s>
                     <a:s r="76">
                        <a:s r="75">
                           <a:s r="75">
                              <a:s>[&quot;Patient&quot;]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> BirthDate</a:s>
                     </a:s>
                     <a:s>&#xd;
			such that </a:s>
                     <a:s r="89">
                        <a:s r="87">
                           <a:s r="77">
                              <a:s>Global</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="87">
                              <a:s>&quot;CalendarAgeInYearsAt&quot;(</a:s>
                              <a:s r="81">
                                 <a:s r="78">
                                    <a:s>FHIRHelpers</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="81">
                                    <a:s>ToDate(</a:s>
                                    <a:s r="80">
                                       <a:s r="79">
                                          <a:s>BirthDate</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="80">
                                          <a:s>birthDate</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="86">
                                 <a:s>start of </a:s>
                                 <a:s r="85">
                                    <a:s r="82">
                                       <a:s>FHIRHelpers</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="85">
                                       <a:s>ToInterval(</a:s>
                                       <a:s r="84">
                                          <a:s r="83">
                                             <a:s>AllStrokeEncounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="84">
                                             <a:s>period</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="88"> >= 18</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="91" locator="72:2-74:149" xsi:type="Query">
            <source localId="74" locator="72:2-72:42" alias="AllStrokeEncounter">
               <expression localId="73" locator="72:2-72:23" name="All Stroke Encounter" xsi:type="ExpressionRef"/>
            </source>
            <relationship localId="90" locator="73:3-74:149" alias="BirthDate" xsi:type="With">
               <expression localId="75" locator="73:8-73:18" dataType="fhir:Patient" xsi:type="Retrieve"/>
               <suchThat localId="89" locator="74:14-74:149" xsi:type="GreaterOrEqual">
                  <operand localId="87" locator="74:14-74:143" name="CalendarAgeInYearsAt" libraryName="Global" xsi:type="FunctionRef">
                     <operand xsi:type="ToDateTime">
                        <operand localId="81" locator="74:44-74:82" name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="80" locator="74:63-74:81" path="birthDate" scope="BirthDate" xsi:type="Property"/>
                        </operand>
                     </operand>
                     <operand localId="86" locator="74:85-74:142" xsi:type="Start">
                        <operand localId="85" locator="74:94-74:142" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="84" locator="74:117-74:141" path="period" scope="AllStrokeEncounter" xsi:type="Property"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="88" locator="74:148-74:149" valueType="t:Integer" value="18" xsi:type="Literal"/>
               </suchThat>
            </relationship>
         </expression>
      </def>
      <def localId="102" locator="47:1-49:77" name="Ischemic Stroke Encounter" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="102">
               <a:s>define &quot;Ischemic Stroke Encounter&quot;:&#xd;
	</a:s>
               <a:s r="101">
                  <a:s>
                     <a:s r="94">
                        <a:s r="93">
                           <a:s>
                              <a:s>&quot;Encounter with Principal Diagnosis and Age&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> EncounterWithAge</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="100">
                     <a:s>where </a:s>
                     <a:s r="100">
                        <a:s r="98">
                           <a:s r="97">
                              <a:s r="95">
                                 <a:s>Global</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="97">
                                 <a:s>PrincipalDiagnosis(</a:s>
                                 <a:s r="96">
                                    <a:s>EncounterWithAge</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="98">
                              <a:s>code</a:s>
                           </a:s>
                        </a:s>
                        <a:s> in </a:s>
                        <a:s r="99">
                           <a:s>&quot;Ischemic Stroke&quot;</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="101" locator="48:2-49:77" xsi:type="Query">
            <source localId="94" locator="48:2-48:62" alias="EncounterWithAge">
               <expression localId="93" locator="48:2-48:45" name="Encounter with Principal Diagnosis and Age" xsi:type="ExpressionRef"/>
            </source>
            <where localId="100" locator="49:3-49:77" xsi:type="InValueSet">
               <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <operand localId="98" locator="49:9-49:56" path="code" xsi:type="Property">
                     <source localId="97" locator="49:9-49:51" name="PrincipalDiagnosis" libraryName="Global" xsi:type="FunctionRef">
                        <operand localId="96" locator="49:35-49:50" name="EncounterWithAge" xsi:type="AliasRef"/>
                     </source>
                  </operand>
               </code>
               <valueset localId="99" locator="49:61-49:77" name="Ischemic Stroke"/>
            </where>
         </expression>
      </def>
      <def localId="135" locator="56:1-64:2" name="Ischemic Stroke Encounters with Discharge Disposition" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="135">
               <a:s>define &quot;Ischemic Stroke Encounters with Discharge Disposition&quot;:&#xd;
	</a:s>
               <a:s r="134">
                  <a:s>( </a:s>
                  <a:s r="134">
                     <a:s>( </a:s>
                     <a:s r="134">
                        <a:s>
                           <a:s r="104">
                              <a:s r="103">
                                 <a:s>
                                    <a:s>&quot;Ischemic Stroke Encounter&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> IschemicStrokeEncounter</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
				</a:s>
                        <a:s r="133">
                           <a:s>where </a:s>
                           <a:s r="133">
                              <a:s r="127">
                                 <a:s r="121">
                                    <a:s r="115">
                                       <a:s r="109">
                                          <a:s r="107">
                                             <a:s r="106">
                                                <a:s r="105">
                                                   <a:s>IschemicStrokeEncounter</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="106">
                                                   <a:s>hospitalization</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="107">
                                                <a:s>dischargeDisposition</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="108">
                                             <a:s>&quot;Discharge To Acute Care Facility&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
					or </a:s>
                                       <a:s r="114">
                                          <a:s r="112">
                                             <a:s r="111">
                                                <a:s r="110">
                                                   <a:s>IschemicStrokeEncounter</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="111">
                                                   <a:s>hospitalization</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="112">
                                                <a:s>dischargeDisposition</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="113">
                                             <a:s>&quot;Left Against Medical Advice&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
					or </a:s>
                                    <a:s r="120">
                                       <a:s r="118">
                                          <a:s r="117">
                                             <a:s r="116">
                                                <a:s>IschemicStrokeEncounter</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="117">
                                                <a:s>hospitalization</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="118">
                                             <a:s>dischargeDisposition</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="119">
                                          <a:s>&quot;Patient Expired&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
					or </a:s>
                                 <a:s r="126">
                                    <a:s r="124">
                                       <a:s r="123">
                                          <a:s r="122">
                                             <a:s>IschemicStrokeEncounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="123">
                                             <a:s>hospitalization</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="124">
                                          <a:s>dischargeDisposition</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="125">
                                       <a:s>&quot;Discharged to Home for Hospice Care&quot;</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
					or </a:s>
                              <a:s r="132">
                                 <a:s r="130">
                                    <a:s r="129">
                                       <a:s r="128">
                                          <a:s>IschemicStrokeEncounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="129">
                                          <a:s>hospitalization</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="130">
                                       <a:s>dischargeDisposition</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> in </a:s>
                                 <a:s r="131">
                                    <a:s>&quot;Discharged to Health Care Facility for Hospice Care&quot;</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
		)</a:s>
                  </a:s>
                  <a:s>&#xd;
	)</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="134" locator="57:2-64:2" xsi:type="Query">
            <source localId="104" locator="57:6-57:56" alias="IschemicStrokeEncounter">
               <expression localId="103" locator="57:6-57:32" name="Ischemic Stroke Encounter" xsi:type="ExpressionRef"/>
            </source>
            <where localId="133" locator="58:5-62:125" xsi:type="Or">
               <operand localId="127" locator="58:11-61:109" xsi:type="Or">
                  <operand localId="121" locator="58:11-60:89" xsi:type="Or">
                     <operand localId="115" locator="58:11-59:101" xsi:type="Or">
                        <operand localId="109" locator="58:11-58:108" xsi:type="InValueSet">
                           <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="107" locator="58:11-58:70" path="dischargeDisposition" xsi:type="Property">
                                 <source localId="106" locator="58:11-58:49" path="hospitalization" scope="IschemicStrokeEncounter" xsi:type="Property"/>
                              </operand>
                           </code>
                           <valueset localId="108" locator="58:75-58:108" name="Discharge To Acute Care Facility"/>
                        </operand>
                        <operand localId="114" locator="59:9-59:101" xsi:type="InValueSet">
                           <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="112" locator="59:9-59:68" path="dischargeDisposition" xsi:type="Property">
                                 <source localId="111" locator="59:9-59:47" path="hospitalization" scope="IschemicStrokeEncounter" xsi:type="Property"/>
                              </operand>
                           </code>
                           <valueset localId="113" locator="59:73-59:101" name="Left Against Medical Advice"/>
                        </operand>
                     </operand>
                     <operand localId="120" locator="60:9-60:89" xsi:type="InValueSet">
                        <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="118" locator="60:9-60:68" path="dischargeDisposition" xsi:type="Property">
                              <source localId="117" locator="60:9-60:47" path="hospitalization" scope="IschemicStrokeEncounter" xsi:type="Property"/>
                           </operand>
                        </code>
                        <valueset localId="119" locator="60:73-60:89" name="Patient Expired"/>
                     </operand>
                  </operand>
                  <operand localId="126" locator="61:9-61:109" xsi:type="InValueSet">
                     <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="124" locator="61:9-61:68" path="dischargeDisposition" xsi:type="Property">
                           <source localId="123" locator="61:9-61:47" path="hospitalization" scope="IschemicStrokeEncounter" xsi:type="Property"/>
                        </operand>
                     </code>
                     <valueset localId="125" locator="61:73-61:109" name="Discharged to Home for Hospice Care"/>
                  </operand>
               </operand>
               <operand localId="132" locator="62:9-62:125" xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="130" locator="62:9-62:68" path="dischargeDisposition" xsi:type="Property">
                        <source localId="129" locator="62:9-62:47" path="hospitalization" scope="IschemicStrokeEncounter" xsi:type="Property"/>
                     </operand>
                  </code>
                  <valueset localId="131" locator="62:73-62:125" name="Discharged to Health Care Facility for Hospice Care"/>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="155" locator="66:2-69:184" name="Comfort Measures during Hospitalization" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="155">
               <a:s>define &quot;Comfort Measures during Hospitalization&quot;:&#xd;
		</a:s>
               <a:s r="154">
                  <a:s>
                     <a:s r="137">
                        <a:s r="136">
                           <a:s>
                              <a:s>&quot;Ischemic Stroke Encounter&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> IschemicStrokeEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s> &#xd;
	   	</a:s>
                  <a:s r="153">
                     <a:s>with </a:s>
                     <a:s r="139">
                        <a:s r="138">
                           <a:s>
                              <a:s>&quot;Intervention Comfort Measures&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> ComfortMeasure</a:s>
                     </a:s>
                     <a:s>&#xd;
	    	such that </a:s>
                     <a:s r="152">
                        <a:s r="148">
                           <a:s r="140">
                              <a:s>FHIRHelpers</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="148">
                              <a:s>ToDateTime(</a:s>
                              <a:s r="147">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="144">
                                    <a:s r="142">
                                       <a:s r="141">
                                          <a:s>ComfortMeasure</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="142">
                                          <a:s>performed</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> as </a:s>
                                    <a:s r="143">
                                       <a:s>dateTime</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>,</a:s>
                                 <a:s r="146">
                                    <a:s r="145">
                                       <a:s>ComfortMeasure</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="146">
                                       <a:s>authoredOn</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="152"> during </a:s>
                        <a:s r="151">
                           <a:s r="149">
                              <a:s>Global</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="151">
                              <a:s>&quot;HospitalizationWithObservation&quot;(</a:s>
                              <a:s r="150">
                                 <a:s>IschemicStrokeEncounter</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="154" locator="67:3-69:184" xsi:type="Query">
            <source localId="137" locator="67:3-67:53" alias="IschemicStrokeEncounter">
               <expression localId="136" locator="67:3-67:29" name="Ischemic Stroke Encounter" xsi:type="ExpressionRef"/>
            </source>
            <relationship localId="153" locator="68:6-69:184" alias="ComfortMeasure" xsi:type="With">
               <expression localId="138" locator="68:11-68:41" name="Intervention Comfort Measures" xsi:type="ExpressionRef"/>
               <suchThat localId="152" locator="69:17-69:184" xsi:type="In">
                  <operand localId="148" locator="69:17-69:112" name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="147" locator="69:40-69:111" xsi:type="Coalesce">
                        <operand localId="144" locator="69:49-69:84" strict="false" xsi:type="As">
                           <operand localId="142" locator="69:49-69:72" path="performed" scope="ComfortMeasure" xsi:type="Property"/>
                           <asTypeSpecifier localId="143" locator="69:77-69:84" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
                        </operand>
                        <operand localId="146" locator="69:86-69:110" path="authoredOn" scope="ComfortMeasure" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand localId="151" locator="69:121-69:184" name="HospitalizationWithObservation" libraryName="Global" xsi:type="FunctionRef">
                     <operand localId="150" locator="69:161-69:183" name="IschemicStrokeEncounter" xsi:type="AliasRef"/>
                  </operand>
               </suchThat>
            </relationship>
         </expression>
      </def>
      <def localId="166" locator="76:1-77:76" name="CalendarDayOfOrDayAfter" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="166">
               <a:s>define function &quot;CalendarDayOfOrDayAfter&quot;(StartValue </a:s>
               <a:s r="156">
                  <a:s>DateTime</a:s>
               </a:s>
               <a:s> ):&#xd;
	</a:s>
               <a:s r="165">
                  <a:s r="165">
                     <a:s>Interval(</a:s>
                     <a:s r="159">
                        <a:s r="157">
                           <a:s>Global</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="159">
                           <a:s>&quot;ToDate&quot;(</a:s>
                           <a:s r="158">
                              <a:s>StartValue</a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                     </a:s>
                     <a:s>, </a:s>
                     <a:s r="164">
                        <a:s r="160">
                           <a:s>Global</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="164">
                           <a:s>&quot;ToDate&quot;(</a:s>
                           <a:s r="163">
                              <a:s r="161">
                                 <a:s>StartValue</a:s>
                              </a:s>
                              <a:s> + </a:s>
                              <a:s r="162">
                                 <a:s>2 days</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="165" locator="77:2-77:76" lowClosed="false" highClosed="false" xsi:type="Interval">
            <low localId="159" locator="77:11-77:37" name="ToDate" libraryName="Global" xsi:type="FunctionRef">
               <operand localId="158" locator="77:27-77:36" name="StartValue" xsi:type="OperandRef"/>
            </low>
            <high localId="164" locator="77:40-77:75" name="ToDate" libraryName="Global" xsi:type="FunctionRef">
               <operand localId="163" locator="77:56-77:74" xsi:type="Add">
                  <operand localId="161" locator="77:56-77:65" name="StartValue" xsi:type="OperandRef"/>
                  <operand localId="162" locator="77:69-77:74" value="2" unit="days" xsi:type="Quantity"/>
               </operand>
            </high>
         </expression>
         <operand name="StartValue">
            <operandTypeSpecifier localId="156" locator="76:54-76:61" name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
         </operand>
      </def>
   </statements>
</library>


